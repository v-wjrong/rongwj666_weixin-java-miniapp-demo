
# weixin-java-miniapp-demo

## 概述  
该工程是微信小程序后端核心系统（类比小程序引擎的"中央处理器"），定位为微信生态下的全功能服务枢纽。主要解决小程序开发中的四大核心问题：媒体资源托管、安全认证、消息分发和系统容错。采用Spring Boot单体架构，通过模块化设计将微信JSSDK能力封装为标准化服务接口，关键资源包括自动配置的ObjectMapper序列化工具和预置的多账号管理模块。  

系统架构呈现"漏斗型"处理流：顶层对接微信开放平台规范，中层通过Lombok简化业务逻辑，底层依赖Spring Web实现HTTP通信。典型特征包括通过Media_id列表管理临时素材（类似CDN的短生命周期存储），基于OAuth2.0的code-openid转换机制，以及仿前端路由拦截的层级式错误处理。例如用户登录场景，系统会依次完成微信凭证校验→会话密钥生成→分布式会话存储的完整链路。  

## 什么是weixin-java-miniapp-demo?  
该系统是微信小程序后端功能的Java实现参考框架（类似乐高基础模块套装），包含媒体管理、用户认证、消息路由和错误处理四个核心模块。模块间通过事件总线模式交互：认证模块输出用户凭证，媒体模块消费上传事件，消息处理器根据类型映射到不同业务逻辑，异常最终由全局拦截器统一降级处理。技术实现上采用微信JSSDK作为协议基础，例如通过code2session接口实现等效银行U盾的双向认证。  

典型应用场景呈现"三明治"结构：前端请求首先经过签名校验层（类似海关安检），业务层处理时自动注入微信上下文（如通过@WxSession注解获取用户信息），最终通过配置化的ObjectMapper输出标准化响应。具体案例包括加密手机号解密（需会话密钥作为解码器）、临时素材七日自动清理（类似超市临期商品下架机制）等。系统特别设计了多账号配置服务，允许单个实例同时管理多个小程序账号，这类似于酒店前台的多房卡管理系统。

## 快速导航

### 💻 开发者

- [开发指南](docs/zh/summary/dev_guide.md) - 快速上手项目开发


- [模块说明](docs/zh/docs/_module.md) - 项目模块详细说明


### 🏗️ 架构师

- [系统架构](docs/zh/summary/system_architecture.md) - 系统架构


### ↔️ API 文档

- [API 文档](summary/api.md) - API 文档

